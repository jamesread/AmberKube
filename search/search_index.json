{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"AmberKube","text":"<p>The first layer of stuff needed to make Kubernetes useable in a self-hosted environment.</p> <p>WARNING: This project was started to understand just how hard it is to truely maintain your own Kubernetes-based platform. The answer so far is that building is easy, maintaining it is hard. It is an ongoing experiment from James Read. It is used for his various kubernetes clusters in a self hosted setup and ongoing learning. Read more about James' self hosting here.</p> <p></p>"},{"location":"#layers","title":"Layers","text":"<ul> <li>Layer 0: Infrastructure - Ansible</li> <li>Layer 1: Platform - Kubernetes</li> <li>Layer 2: -- workloads --</li> </ul>"},{"location":"ansible/machine_k8s/","title":"Machine K8s","text":"<ul> <li>Role path: <code>iac/ansible/roles/machine_k8s</code></li> <li>Description: Install a k8s node (could be a control/worker).</li> </ul>"},{"location":"ansible/machine_k8s/#tasks","title":"Tasks","text":"<ul> <li>Disable SELinux (ansible.posix.selinux)</li> <li>Flush Handlers (ansible.builtin.meta)</li> <li>Check if crio is installed (ansible.builtin.stat)</li> <li>Install Kubernetes if it isn't already</li> <li>Install Kubernetes packages (ansible.builtin.package)</li> <li>Remove unwanted packages (ansible.builtin.package)</li> <li>Copy k8s modprobe (ansible.builtin.copy)</li> <li>Modprobe netfilter (community.general.modprobe)</li> <li>Service - enable and start CRIO (ansible.builtin.service)</li> <li>Enable IPv4 forwarding via syscyl (ansible.posix.sysctl)</li> <li>Do something with sysctl (ipv4) (ansible.posix.sysctl)</li> <li>Do something with sysctl (ipv6) (ansible.posix.sysctl)</li> <li>Reload, start and enable kubelet (ansible.builtin.service)</li> <li>Stop and disable resolved (ansible.builtin.service)</li> <li>Flush Handlers (ansible.builtin.meta)</li> <li>Remove old systemd-resolved resolv.conf stub (ansible.builtin.file)</li> <li>Restart network manager to regenerate resolv.conf (ansible.builtin.service)</li> <li>Flush handlers (ansible.builtin.meta)</li> <li>Kubeadm pull (ansible.builtin.command)</li> </ul>"},{"location":"ansible/machine_k8s/#files","title":"Files","text":"<ul> <li><code>README.md</code></li> <li><code>files/k8s-modprobe.conf</code></li> <li><code>handlers/main.yml</code></li> <li><code>meta/main.yml</code></li> <li><code>tasks/main.yml</code></li> </ul>"},{"location":"kubernetes/cert-manager/","title":"Cert Manager","text":"<ul> <li>Component path: <code>iac/kubernetes/cert-manager</code></li> <li> <p>Description: Manages ACME/PKI certificates via cert-manager controllers.</p> </li> <li> <p>Homepage: https://cert-manager.io/</p> </li> <li>Repository: https://github.com/cert-manager/cert-manager</li> </ul>"},{"location":"kubernetes/cert-manager/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>cert-manager</code>, namespace: <code>default</code>, chart: <code>cert-manager</code>, source: <code>iac/kubernetes/cert-manager/cert-manager.yaml</code>)</li> </ul>"},{"location":"kubernetes/cert-manager/#files","title":"Files","text":"<ul> <li><code>cert-manager.yaml</code></li> <li><code>issuer.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>policy.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/descheduler/","title":"Descheduler","text":"<ul> <li>Component path: <code>iac/kubernetes/descheduler</code></li> <li> <p>Description: Kubernetes Descheduler that periodically evicts pods to rebalance nodes.</p> </li> <li> <p>Homepage: https://kubernetes-sigs.github.io/descheduler/</p> </li> <li>Repository: https://github.com/kubernetes-sigs/descheduler</li> </ul>"},{"location":"kubernetes/descheduler/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>descheduler</code>, namespace: <code>default</code>, chart: <code>descheduler</code>, source: <code>iac/kubernetes/descheduler/descheduler.yaml</code>)</li> </ul>"},{"location":"kubernetes/descheduler/#files","title":"Files","text":"<ul> <li><code>descheduler.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/documentation/","title":"Documentation","text":"<ul> <li>Component path: <code>iac/kubernetes/documentation</code></li> <li> <p>Description: MkDocs-ready documentation source related to the Kubernetes stack.</p> </li> <li> <p>Homepage: https://www.mkdocs.org/</p> </li> <li>Repository: https://github.com/mkdocs/mkdocs</li> </ul>"},{"location":"kubernetes/documentation/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/documentation/#files","title":"Files","text":"<ul> <li><code>metadata.yaml</code></li> <li><code>source/index.md</code></li> </ul>"},{"location":"kubernetes/flux-system/","title":"Flux System","text":"<ul> <li>Component path: <code>iac/kubernetes/flux-system</code></li> <li> <p>Description: Flux GitOps controllers that reconcile cluster state from this repo.</p> </li> <li> <p>Homepage: https://fluxcd.io/</p> </li> <li>Repository: https://github.com/fluxcd/flux2</li> </ul>"},{"location":"kubernetes/flux-system/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/flux-system/#files","title":"Files","text":"<ul> <li><code>ingress.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>notification-provider.yaml</code></li> </ul>"},{"location":"kubernetes/haproxy/","title":"Haproxy","text":"<ul> <li>Component path: <code>iac/kubernetes/haproxy</code></li> <li> <p>Description: HAProxy ingress layer plus metrics/stats endpoints.</p> </li> <li> <p>Homepage: https://www.haproxy.org/</p> </li> <li>Repository: https://github.com/haproxy/haproxy</li> </ul>"},{"location":"kubernetes/haproxy/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>haproxy</code>, namespace: <code>default</code>, chart: <code>haproxy-ingress</code>, source: <code>iac/kubernetes/haproxy/haproxy.yaml</code>)</li> </ul>"},{"location":"kubernetes/haproxy/#files","title":"Files","text":"<ul> <li><code>haproxy.yaml</code></li> <li><code>ingress-metrics.yaml</code></li> <li><code>ingress-stats.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/infrastructure/","title":"Infrastructure","text":"<ul> <li>Component path: <code>iac/kubernetes/infrastructure</code></li> <li> <p>Description: Infrastructure tooling (Ansible, etc.) that supports the cluster.</p> </li> <li> <p>Homepage: https://www.ansible.com/</p> </li> <li>Repository: https://github.com/ansible/ansible</li> </ul>"},{"location":"kubernetes/infrastructure/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/infrastructure/#files","title":"Files","text":"<ul> <li><code>ansible/.gitignore</code></li> <li><code>ansible/install.yml</code></li> <li><code>ansible/inventory.sample.yml</code></li> <li><code>ansible/ping.yml</code></li> <li><code>ansible/roles/machine_k8s/README.md</code></li> <li><code>ansible/roles/machine_k8s/files/k8s-modprobe.conf</code></li> <li><code>ansible/roles/machine_k8s/files/k8s.repo</code></li> <li><code>ansible/roles/machine_k8s/files/kubeadm.conf</code></li> <li><code>ansible/roles/machine_k8s/handlers/main.yml</code></li> <li><code>ansible/roles/machine_k8s/meta/main.yml</code></li> <li><code>ansible/roles/machine_k8s/tasks/main.yml</code></li> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/istio-system/","title":"Istio System","text":"<ul> <li>Component path: <code>iac/kubernetes/istio-system</code></li> <li> <p>Description: Istio control plane resources for service mesh functionality.</p> </li> <li> <p>Homepage: https://istio.io/</p> </li> <li>Repository: https://github.com/istio/istio</li> </ul>"},{"location":"kubernetes/istio-system/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/istio-system/#files","title":"Files","text":"<ul> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/keycloak/","title":"Keycloak","text":"<ul> <li>Component path: <code>iac/kubernetes/keycloak</code></li> <li> <p>Description: Keycloak identity provider deployment and ingress.</p> </li> <li> <p>Homepage: https://www.keycloak.org/</p> </li> <li>Repository: https://github.com/keycloak/keycloak</li> </ul>"},{"location":"kubernetes/keycloak/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/keycloak/#files","title":"Files","text":"<ul> <li><code>ingress.yaml</code></li> <li><code>keycloak.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>pvc.yaml</code></li> </ul>"},{"location":"kubernetes/knative-serving/","title":"Knative Serving","text":"<ul> <li>Component path: <code>iac/kubernetes/knative-serving</code></li> <li> <p>Description: Knative Serving components enabling serverless workloads on Kubernetes.</p> </li> <li> <p>Homepage: https://knative.dev/docs/serving/</p> </li> <li>Repository: https://github.com/knative/serving</li> </ul>"},{"location":"kubernetes/knative-serving/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/knative-serving/#files","title":"Files","text":"<ul> <li><code>istio.yaml</code></li> <li><code>knative-istio.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>net-istio.yaml</code></li> <li><code>old/kustomization.yaml</code></li> <li><code>serving-core.yaml</code></li> <li><code>serving-crds.yaml</code></li> </ul>"},{"location":"kubernetes/kube-dashboard/","title":"Kube Dashboard","text":"<ul> <li>Component path: <code>iac/kubernetes/kube-dashboard</code></li> <li> <p>Description: Kubernetes Dashboard web UI and supporting manifests.</p> </li> <li> <p>Homepage: https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/</p> </li> <li>Repository: https://github.com/kubernetes/dashboard</li> </ul>"},{"location":"kubernetes/kube-dashboard/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>kube-dashboard</code>, namespace: <code>default</code>, chart: <code>kubernetes-dashboard</code>, source: <code>iac/kubernetes/kube-dashboard/kube-dashboard.yaml</code>)</li> </ul>"},{"location":"kubernetes/kube-dashboard/#files","title":"Files","text":"<ul> <li><code>ks.yaml</code></li> <li><code>kube-dashboard.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/kube-prom/","title":"Kube Prom","text":"<ul> <li>Component path: <code>iac/kubernetes/kube-prom</code></li> <li> <p>Description: Kube-Prometheus stack seeds and supporting resources.</p> </li> <li> <p>Homepage: https://prometheus-operator.dev/</p> </li> <li>Repository: https://github.com/prometheus-operator/kube-prometheus</li> </ul>"},{"location":"kubernetes/kube-prom/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/kube-prom/#files","title":"Files","text":"<ul> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/kube-state-metrics/","title":"Kube State Metrics","text":"<ul> <li>Component path: <code>iac/kubernetes/kube-state-metrics</code></li> <li> <p>Description: kube-state-metrics deployment exposing cluster objects as metrics.</p> </li> <li> <p>Homepage: https://kubernetes.io/docs/tasks/debug/debug-cluster/resource-metrics-pipeline/</p> </li> <li>Repository: https://github.com/kubernetes/kube-state-metrics</li> </ul>"},{"location":"kubernetes/kube-state-metrics/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/kube-state-metrics/#files","title":"Files","text":"<ul> <li><code>cluster-role-binding.yaml</code></li> <li><code>cluster-role.yaml</code></li> <li><code>deployment.yaml</code></li> <li><code>ingress.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>service-account.yaml</code></li> <li><code>service.yaml</code></li> </ul>"},{"location":"kubernetes/kubemetrics/","title":"Kubemetrics","text":"<ul> <li>Component path: <code>iac/kubernetes/kubemetrics</code></li> <li> <p>Description: Custom metrics aggregation resources for the homelab.</p> </li> <li> <p>Homepage: https://kubernetes.io/docs/tasks/debug/debug-cluster/resource-metrics-pipeline/</p> </li> <li>Repository: https://github.com/kubernetes-sigs/metrics-server</li> </ul>"},{"location":"kubernetes/kubemetrics/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/kubemetrics/#files","title":"Files","text":"<ul> <li><code>components.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/kubernetes/","title":"Kubernetes","text":"<ul> <li>Component path: <code>infra/kubernetes</code></li> <li>Description: Add component notes here.</li> </ul>"},{"location":"kubernetes/kubernetes/#deployment-type","title":"Deployment Type","text":"<ul> <li>No HelmRelease resources detected.</li> </ul>"},{"location":"kubernetes/kubernetes/#files","title":"Files","text":"<ul> <li><code>foundation/cert-manager/cert-manager.yaml</code></li> <li><code>foundation/cert-manager/issuer.yaml</code></li> <li><code>foundation/cert-manager/kustomization.yaml</code></li> <li><code>foundation/cert-manager/policy.yaml</code></li> <li><code>foundation/cert-manager/values.yaml</code></li> <li><code>workloads/README.md</code></li> </ul>"},{"location":"kubernetes/kyverno/","title":"Kyverno","text":"<ul> <li>Component path: <code>iac/kubernetes/kyverno</code></li> <li> <p>Description: Kyverno policy engine enforcing admission policies.</p> </li> <li> <p>Homepage: https://kyverno.io/</p> </li> <li>Repository: https://github.com/kyverno/kyverno</li> </ul>"},{"location":"kubernetes/kyverno/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>kyverno</code>, namespace: <code>default</code>, chart: <code>kyverno</code>, source: <code>iac/kubernetes/kyverno/kyverno.yaml</code>)</li> </ul>"},{"location":"kubernetes/kyverno/#files","title":"Files","text":"<ul> <li><code>kustomization.yaml</code></li> <li><code>kyverno.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/metallb/","title":"Metallb","text":"<ul> <li>Component path: <code>iac/kubernetes/metallb</code></li> <li> <p>Description: MetalLB load balancer configuration for bare-metal services.</p> </li> <li> <p>Homepage: https://metallb.universe.tf/</p> </li> <li>Repository: https://github.com/metallb/metallb</li> </ul>"},{"location":"kubernetes/metallb/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>metallb</code>, namespace: <code>default</code>, chart: <code>metallb@0.15.2</code>, source: <code>iac/kubernetes/metallb/metallb.yaml</code>)</li> </ul>"},{"location":"kubernetes/metallb/#files","title":"Files","text":"<ul> <li><code>ipaddresses.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>l2advertisments.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>metallb.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/nfs/","title":"Nfs","text":"<ul> <li>Component path: <code>iac/kubernetes/nfs</code></li> <li> <p>Description: NFS server manifests for shared persistent storage.</p> </li> <li> <p>Homepage: https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/</p> </li> <li>Repository: https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner</li> </ul>"},{"location":"kubernetes/nfs/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>nfs</code>, namespace: <code>default</code>, chart: <code>nfs-subdir-external-provisioner</code>, source: <code>iac/kubernetes/nfs/nfs.yaml</code>)</li> </ul>"},{"location":"kubernetes/nfs/#files","title":"Files","text":"<ul> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>nfs.yaml</code></li> </ul>"},{"location":"kubernetes/nginx/","title":"Nginx","text":"<ul> <li>Component path: <code>iac/kubernetes/nginx</code></li> <li> <p>Description: NGINX ingress controller configuration and values.</p> </li> <li> <p>Homepage: https://kubernetes.github.io/ingress-nginx/</p> </li> <li>Repository: https://github.com/kubernetes/ingress-nginx</li> </ul>"},{"location":"kubernetes/nginx/#deployment-type","title":"Deployment Type","text":"<ul> <li>HelmRelease (name: <code>ingress-nginx</code>, namespace: <code>default</code>, chart: <code>ingress-nginx@4.13.2</code>, source: <code>iac/kubernetes/nginx/nginx.yaml</code>)</li> </ul>"},{"location":"kubernetes/nginx/#files","title":"Files","text":"<ul> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>nginx.yaml</code></li> <li><code>values.yaml</code></li> </ul>"},{"location":"kubernetes/node-exporter/","title":"Node Exporter","text":"<ul> <li>Component path: <code>iac/kubernetes/node-exporter</code></li> <li> <p>Description: Prometheus node-exporter DaemonSet for host metrics.</p> </li> <li> <p>Homepage: https://prometheus.io/docs/guides/node-exporter/</p> </li> <li>Repository: https://github.com/prometheus/node_exporter</li> </ul>"},{"location":"kubernetes/node-exporter/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/node-exporter/#files","title":"Files","text":"<ul> <li><code>daemonset.yaml</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> </ul>"},{"location":"kubernetes/olm/","title":"Olm","text":"<ul> <li>Component path: <code>iac/kubernetes/olm</code></li> <li> <p>Description: Operator Lifecycle Manager installation manifests.</p> </li> <li> <p>Homepage: https://olm.operatorframework.io/</p> </li> <li>Repository: https://github.com/operator-framework/operator-lifecycle-manager</li> </ul>"},{"location":"kubernetes/olm/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/olm/#files","title":"Files","text":"<ul> <li><code>crds.yaml</code></li> <li><code>install.sh</code></li> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>olm.yaml</code></li> </ul>"},{"location":"kubernetes/promtail/","title":"Promtail","text":"<ul> <li>Component path: <code>iac/kubernetes/promtail</code></li> <li> <p>Description: Promtail agents that ship logs to the Loki stack.</p> </li> <li> <p>Homepage: https://grafana.com/oss/loki/</p> </li> <li>Repository: https://github.com/grafana/loki</li> </ul>"},{"location":"kubernetes/promtail/#deployment-type","title":"Deployment Type","text":"<ul> <li>Kubernetes manifest (no HelmRelease resources detected).</li> </ul>"},{"location":"kubernetes/promtail/#files","title":"Files","text":"<ul> <li><code>kustomization.yaml</code></li> <li><code>metadata.yaml</code></li> <li><code>promtail.yaml</code></li> </ul>"}]}